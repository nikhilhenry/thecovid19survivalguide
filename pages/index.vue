<template>
  <div>
    <main>
      <h2>LATEST THOUGHTS</h2>
      <ul>
        <li v-for="(post,index) in posts" :key = "index">
          <img :src="post.feature_image">
          <div class="content">
            <span>{{ post.authors[0].name}}</span>
            <nuxt-link :to="{ path: post.slug}">{{post.title}}</nuxt-link>
            <p>{{post.excerpt}}</p>
          </div>
        </li>
      </ul>
    </main>
  </div>
</template>

<script>
import { getPosts } from '~/api/posts';
export default {
  async asyncData () {
    const posts = await getPosts();
    return { posts: posts }
  }
}
</script>